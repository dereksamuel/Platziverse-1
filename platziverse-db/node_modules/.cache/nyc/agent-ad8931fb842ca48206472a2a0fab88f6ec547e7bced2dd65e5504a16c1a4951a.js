'use strict';function cov_g9ncogsiq(){var path="/home/derek/Documentos/BACKEND_NODEJS/platziverse-db/lib/services/agent.js";var hash="e3077fba979326dd116b27bca36954acedd57006";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/derek/Documentos/BACKEND_NODEJS/platziverse-db/lib/services/agent.js",statementMap:{"0":{start:{line:3,column:0},end:{line:41,column:1}},"1":{start:{line:5,column:4},end:{line:5,column:28}},"2":{start:{line:10,column:4},end:{line:10,column:35}},"3":{start:{line:15,column:22},end:{line:19,column:5}},"4":{start:{line:20,column:26},end:{line:20,column:61}},"5":{start:{line:21,column:4},end:{line:24,column:5}},"6":{start:{line:22,column:22},end:{line:22,column:63}},"7":{start:{line:23,column:6},end:{line:23,column:69}},"8":{start:{line:26,column:25},end:{line:26,column:55}},"9":{start:{line:27,column:4},end:{line:27,column:33}},"10":{start:{line:31,column:4},end:{line:35,column:7}},"11":{start:{line:39,column:4},end:{line:39,column:49}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:26},end:{line:6,column:3}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:15},end:{line:11,column:3}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:30},end:{line:28,column:3}},line:13},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:19},end:{line:36,column:3}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:35},end:{line:40,column:3}},line:38}},branchMap:{"0":{loc:{start:{line:21,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:24,column:5}},{start:{line:21,column:4},end:{line:24,column:5}}],line:21},"1":{loc:{start:{line:23,column:13},end:{line:23,column:68}},type:"cond-expr",locations:[{start:{line:23,column:23},end:{line:23,column:52}},{start:{line:23,column:55},end:{line:23,column:68}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e3077fba979326dd116b27bca36954acedd57006"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_g9ncogsiq=function(){return actualCoverage;};}return actualCoverage;}cov_g9ncogsiq();cov_g9ncogsiq().s[0]++;module.exports=class setupAgentService{constructor(AgentModel){cov_g9ncogsiq().f[0]++;cov_g9ncogsiq().s[1]++;this.Model=AgentModel;}findById(id){cov_g9ncogsiq().f[1]++;cov_g9ncogsiq().s[2]++;// id = id -5;
return this.Model.findById(id);}async createOrUpdate(agent){cov_g9ncogsiq().f[2]++;// For update
const condition=(cov_g9ncogsiq().s[3]++,{where:{uuid:agent.uuid}});const existingAgent=(cov_g9ncogsiq().s[4]++,await this.Model.findOne(condition));cov_g9ncogsiq().s[5]++;if(existingAgent){cov_g9ncogsiq().b[0][0]++;const updated=(cov_g9ncogsiq().s[6]++,await this.Model.update(agent,condition));cov_g9ncogsiq().s[7]++;return updated?(cov_g9ncogsiq().b[1][0]++,this.Model.findOne(condition)):(cov_g9ncogsiq().b[1][1]++,existingAgent);}else{cov_g9ncogsiq().b[0][1]++;}// For create
const resultCreate=(cov_g9ncogsiq().s[8]++,await this.Model.create(agent));cov_g9ncogsiq().s[9]++;return resultCreate.toJSON();}findByUuid(uuid){cov_g9ncogsiq().f[3]++;cov_g9ncogsiq().s[10]++;return this.Model.findOne({where:{uuid}});}findByNameFiltered(configSearch){cov_g9ncogsiq().f[4]++;cov_g9ncogsiq().s[11]++;return this.Model.findFiltered(configSearch);}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFnZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJzZXR1cEFnZW50U2VydmljZSIsImNvbnN0cnVjdG9yIiwiQWdlbnRNb2RlbCIsIk1vZGVsIiwiZmluZEJ5SWQiLCJpZCIsImNyZWF0ZU9yVXBkYXRlIiwiYWdlbnQiLCJjb25kaXRpb24iLCJ3aGVyZSIsInV1aWQiLCJleGlzdGluZ0FnZW50IiwiZmluZE9uZSIsInVwZGF0ZWQiLCJ1cGRhdGUiLCJyZXN1bHRDcmVhdGUiLCJjcmVhdGUiLCJ0b0pTT04iLCJmaW5kQnlVdWlkIiwiZmluZEJ5TmFtZUZpbHRlcmVkIiwiY29uZmlnU2VhcmNoIiwiZmluZEZpbHRlcmVkIl0sIm1hcHBpbmdzIjoiQUFBQSxhLGkrRUFlWTtnSEFiWkEsTUFBTSxDQUFDQyxPQUFQLENBQWlCLEtBQU1DLENBQUFBLGlCQUFrQixDQUN2Q0MsV0FBVyxDQUFDQyxVQUFELENBQWEsK0NBQ3RCLEtBQUtDLEtBQUwsQ0FBYUQsVUFBYixDQUNELENBRURFLFFBQVEsQ0FBQ0MsRUFBRCxDQUFLLCtDQUNYO0FBQ0EsTUFBTyxNQUFLRixLQUFMLENBQVdDLFFBQVgsQ0FBb0JDLEVBQXBCLENBQVAsQ0FDRCxDQUVELEtBQU1DLENBQUFBLGNBQU4sQ0FBcUJDLEtBQXJCLENBQTRCLHdCQUMxQjtBQUNBLEtBQU1DLENBQUFBLFNBQVMseUJBQUcsQ0FDaEJDLEtBQUssQ0FBRSxDQUNMQyxJQUFJLENBQUVILEtBQUssQ0FBQ0csSUFEUCxDQURTLENBQUgsQ0FBZixDQUtBLEtBQU1DLENBQUFBLGFBQWEseUJBQUcsS0FBTSxNQUFLUixLQUFMLENBQVdTLE9BQVgsQ0FBbUJKLFNBQW5CLENBQVQsQ0FBbkIsQ0FQMEIsdUJBUTFCLEdBQUlHLGFBQUosQ0FBbUIsMkJBQ2pCLEtBQU1FLENBQUFBLE9BQU8seUJBQUcsS0FBTSxNQUFLVixLQUFMLENBQVdXLE1BQVgsQ0FBa0JQLEtBQWxCLENBQXlCQyxTQUF6QixDQUFULENBQWIsQ0FEaUIsdUJBRWpCLE1BQU9LLENBQUFBLE9BQU8sNEJBQUcsS0FBS1YsS0FBTCxDQUFXUyxPQUFYLENBQW1CSixTQUFuQixDQUFILDZCQUFtQ0csYUFBbkMsQ0FBZCxDQUNELENBSEQsZ0NBSUE7QUFDQSxLQUFNSSxDQUFBQSxZQUFZLHlCQUFHLEtBQU0sTUFBS1osS0FBTCxDQUFXYSxNQUFYLENBQWtCVCxLQUFsQixDQUFULENBQWxCLENBYjBCLHVCQWMxQixNQUFPUSxDQUFBQSxZQUFZLENBQUNFLE1BQWIsRUFBUCxDQUNELENBRURDLFVBQVUsQ0FBQ1IsSUFBRCxDQUFPLGdEQUNmLE1BQU8sTUFBS1AsS0FBTCxDQUFXUyxPQUFYLENBQW1CLENBQ3hCSCxLQUFLLENBQUUsQ0FDTEMsSUFESyxDQURpQixDQUFuQixDQUFQLENBS0QsQ0FFRFMsa0JBQWtCLENBQUNDLFlBQUQsQ0FBZSxnREFDL0IsTUFBTyxNQUFLakIsS0FBTCxDQUFXa0IsWUFBWCxDQUF3QkQsWUFBeEIsQ0FBUCxDQUNELENBckNzQyxDQUF6QyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBzZXR1cEFnZW50U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKEFnZW50TW9kZWwpIHtcbiAgICB0aGlzLk1vZGVsID0gQWdlbnRNb2RlbDtcbiAgfVxuXG4gIGZpbmRCeUlkKGlkKSB7XG4gICAgLy8gaWQgPSBpZCAtNTtcbiAgICByZXR1cm4gdGhpcy5Nb2RlbC5maW5kQnlJZChpZCk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVPclVwZGF0ZShhZ2VudCkge1xuICAgIC8vIEZvciB1cGRhdGVcbiAgICBjb25zdCBjb25kaXRpb24gPSB7XG4gICAgICB3aGVyZToge1xuICAgICAgICB1dWlkOiBhZ2VudC51dWlkXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBleGlzdGluZ0FnZW50ID0gYXdhaXQgdGhpcy5Nb2RlbC5maW5kT25lKGNvbmRpdGlvbik7XG4gICAgaWYgKGV4aXN0aW5nQWdlbnQpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCB0aGlzLk1vZGVsLnVwZGF0ZShhZ2VudCwgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiB1cGRhdGVkID8gdGhpcy5Nb2RlbC5maW5kT25lKGNvbmRpdGlvbikgOiBleGlzdGluZ0FnZW50O1xuICAgIH1cbiAgICAvLyBGb3IgY3JlYXRlXG4gICAgY29uc3QgcmVzdWx0Q3JlYXRlID0gYXdhaXQgdGhpcy5Nb2RlbC5jcmVhdGUoYWdlbnQpO1xuICAgIHJldHVybiByZXN1bHRDcmVhdGUudG9KU09OKCk7XG4gIH1cblxuICBmaW5kQnlVdWlkKHV1aWQpIHtcbiAgICByZXR1cm4gdGhpcy5Nb2RlbC5maW5kT25lKHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHV1aWRcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZpbmRCeU5hbWVGaWx0ZXJlZChjb25maWdTZWFyY2gpIHtcbiAgICByZXR1cm4gdGhpcy5Nb2RlbC5maW5kRmlsdGVyZWQoY29uZmlnU2VhcmNoKTtcbiAgfVxufVxuIl19